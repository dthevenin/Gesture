(function(){function j(a,d,b,e,c){this.configureWithEvent(a,e,c);this.type=d;this.identifier=b}function s(a,d){var b=[];a.nbPointers=a.touches.length;for(var e=0;e<a.nbPointers;e++){var c=a.touches[e],c=new j(c,m.TOUCH,c.identifier,c.clientX,c.clientY);b.push(c)}a.pointerList=b;b=[];for(e=0;e<a.targetTouches.length;e++)c=a.targetTouches[e],d&&t[c.identifier]!=d||(c=new j(c,m.TOUCH,c.identifier,c.clientX,c.clientY),b.push(c));a.targetPointerList=b;b=[];for(e=0;e<a.changedTouches.length;e++)c=a.changedTouches[e],
c=new j(c,m.TOUCH,c.identifier,a.clientX,a.clientY),b.push(c);a.changedPointerList=b}function B(a,d){var b=[];b.push(new j(a,m.MOUSE,E,a.layerX,a.layerY));d?(a.nbPointers=0,a.pointerList=[],a.targetPointerList=b,a.changedPointerList=b):(a.nbPointers=1,a.pointerList=b,a.targetPointerList=b,a.changedPointerList=[])}function u(a,d){var b=[],e=[],c=a.pointerId,f=g[c];if(d){f?(k[c]=f,delete g[c]):(f=k[c],f||(f=new j(a,a.pointerType,c,a.layerX,a.layerY),k[c]=f));for(c in k)e.push(k[c]);k={}}else f?f.configureWithEvent(a):
(f=new j(a,a.pointerType,c,a.layerX,a.layerY),g[c]=f);for(c in g)b.push(g[c]);a.nbPointers=b.length;a.pointerList=b;b=[];for(c in g)f=g[c],b.push(f);a.targetPointerList=b;a.changedPointerList=e}function F(a,d){B(a);d(a)}function G(a,d){B(a);d(a)}function H(a,d){B(a,!0);d(a)}function I(a,d,b){for(var e,c=a.targetTouches.length,f=0;f<c;f++)e=a.targetTouches[f],t[e.identifier]=b;s(a);d(a)}function J(a,d,b){s(a,b);d(a)}function K(a,d){for(var b,e=a.targetTouches.length,c=0;c<e;c++)b=a.changedTouches[c],
t[b.identifier]=void 0;s(a);d(a)}function L(a,d){s(a);d(a,d)}function M(a,d,b){t[a.pointerId]=b;u(a,!1,b);d(a);0===v&&(document.addEventListener(h?"pointerup":"MSPointerUp",w),document.addEventListener(h?"pointercancel":"MSPointerCancel",w));v++}function N(a,d,b){u(a,!1,b);d(a)}function O(a,d){u(a,!0);d(a)}function P(a,d){u(a,!0);d(a)}function C(a,d,b){if(!d||!b||!b.__event_listeners)return-1;for(var e=0;e<b.__event_listeners.length;e++){var c=b.__event_listeners[e];if(c.target===a&&c.type===d&&c.listener===
b)return e}return-1}function Q(a,d,b,e){var c=e.listener?e.listener.id:void 0;switch(d){case n:return e.handler=function(a){x(a,b,c)},!0;case o:return e.handler=function(a){y(a,b,c)},!0;case p:return e.handler=function(a){z(a,b)},!0;case q:return e.handler=function(a){A(a,b)},!0}return!1}var i=this.vs={util:{isFunction:function(a){return"function"===typeof a}}},D=i.util,r=!1,h=window.navigator.pointerEnabled,l=window.navigator.msPointerEnabled;if("undefined"!=typeof document&&"createTouch"in document)r=
!0;else if(h||l)r=!0;else if("undefined"!=typeof document&&window.navigator&&window.navigator.userAgent&&(-1!==window.navigator.userAgent.indexOf("Android")||-1!==window.navigator.userAgent.indexOf("BlackBerry")))r=!0;var n,o,p,q;r?(n=h?"pointerdown":l?"MSPointerDown":"touchstart",o=h?"pointermove":l?"MSPointerMove":"touchmove",p=h?"pointerup":l?"MSPointerUp":"touchend",q=h?"pointercancel":l?"MSPointerCancel":"touchcancel"):(n="mousedown",o="mousemove",p="mouseup",q=null);var E=31337;j.prototype.configureWithEvent=
function(a,d,b){this.pageX=a.pageX;this.pageY=a.pageY;"undefiend"!==typeof d&&(this.clientX=d);"undefiend"!==typeof b&&(this.clientY=b);this.target=a.target;this.currentTarget=a.currentTarget};var m={TOUCH:2,PEN:3,MOUSE:4},t=[],g={},k={},v=0,w=function(a){if(a=g[a.pointerId])k[a.identifier]=a,delete g[a.identifier];v--;0===v&&(document.removeEventListener(h?"pointerup":"MSPointerUp",w),document.removeEventListener(h?"pointercancel":"MSPointerCancel",w))},x,y,z,A;r?l?(x=M,y=N,z=O,A=P):(x=I,y=J,z=K,
A=L):(x=F,y=G,A=z=H);i.createCustomEvent=function(a,d,b){var e=document.createEvent("Event");e.initEvent(a,!0,!0);for(var c in b)e[c]=b[c];d.dispatchEvent(e)};i.removePointerListener=function(a,d,b,e){if(d)if(b){var c=C(a,d,b);if(-1===c)console.error("removePointerListener no binding");else{var f=b.__event_listeners[c];b.__event_listeners.remove(c);a:{switch(d){case n:case o:case p:case q:b=!0;break a}b=!1}b||manageGestureListenerRemove(a,d,f);a.removeEventListener(d,f.handler,e);delete f}}else console.error("removePointerListener no listener")};
i.addPointerListener=function(a,d,b,e){if(d)if(b){var c=b;D.isFunction(b)||(c=b.handleEvent,D.isFunction(c)&&(c=c.bind(b)));if(-1!==C(a,d,b))console.error("addPointerListener binding already existing");else{b.__event_listeners||(b.__event_listeners=[]);var f={target:a,type:d,listener:b};b.__event_listeners.push(f);!Q(a,d,c,f)&&!manageGestureListenerAdd(a,d,c,f)&&(f.handler=c);a.addEventListener(d,f.handler,e)}}else console.error("addPointerListener no listener")};i.PointerTypes=m;i.POINTER_START=
n;i.POINTER_MOVE=o;i.POINTER_END=p;i.POINTER_CANCEL=q}).call(this);

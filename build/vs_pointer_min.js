(function(){function i(a,d,b,e,c){this.configureWithEvent(a,e,c);this.type=d;this.identifier=b}function r(a,d){var b=[];a.nbPointers=a.touches.length;for(var e=0;e<a.nbPointers;e++){var c=a.touches[e],c=new i(c,l.TOUCH,c.identifier,c.clientX,c.clientY);b.push(c)}a.pointerList=b;b=[];for(e=0;e<a.targetTouches.length;e++)c=a.targetTouches[e],d&&s[c.identifier]!=d||(c=new i(c,l.TOUCH,c.identifier,c.clientX,c.clientY),b.push(c));a.targetPointerList=b;b=[];for(e=0;e<a.changedTouches.length;e++)c=a.changedTouches[e],
c=new i(c,l.TOUCH,c.identifier,a.clientX,a.clientY),b.push(c);a.changedPointerList=b}function A(a,d){var b=[];b.push(new i(a,l.MOUSE,D,a.layerX,a.layerY));d?(a.nbPointers=0,a.pointerList=[],a.targetPointerList=b,a.changedPointerList=b):(a.nbPointers=1,a.pointerList=b,a.targetPointerList=b,a.changedPointerList=[])}function t(a,d){var b=[],e=[],c=a.pointerId,f=h[c];if(d){f?(j[c]=f,delete h[c]):(f=j[c],f||(f=new i(a,a.pointerType,c,a.layerX,a.layerY),j[c]=f));for(c in j)e.push(j[c]);j={}}else f?f.configureWithEvent(a):
(f=new i(a,a.pointerType,c,a.layerX,a.layerY),h[c]=f);for(c in h)b.push(h[c]);a.nbPointers=b.length;a.pointerList=b;b=[];for(c in h)f=h[c],b.push(f);a.targetPointerList=b;a.changedPointerList=e}function E(a,d){A(a);d(a)}function F(a,d){A(a);d(a)}function G(a,d){A(a,!0);d(a)}function H(a,d,b){for(var e,c=a.targetTouches.length,f=0;f<c;f++)e=a.targetTouches[f],s[e.identifier]=b;r(a);d(a)}function I(a,d,b){r(a,b);d(a)}function J(a,d){for(var b,e=a.targetTouches.length,c=0;c<e;c++)b=a.changedTouches[c],
s[b.identifier]=void 0;r(a);d(a)}function K(a,d){r(a);d(a,d)}function L(a,d,b){s[a.pointerId]=b;t(a,!1,b);d(a);0===u&&(document.addEventListener("MSPointerUp",v),document.addEventListener("MSPointerCancel",v));u++}function M(a,d,b){t(a,!1,b);d(a)}function N(a,d){t(a,!0);d(a)}function O(a,d){t(a,!0);d(a)}function B(a,d,b){if(!d||!b||!b.__event_listeners)return-1;for(var e=0;e<b.__event_listeners.length;e++){var c=b.__event_listeners[e];if(c.target===a&&c.type===d&&c.listener===b)return e}return-1}
function P(a,d,b,e){var c=e.listener?e.listener.id:void 0;switch(d){case m:return e.handler=function(a){w(a,b,c)},!0;case n:return e.handler=function(a){x(a,b,c)},!0;case o:return e.handler=function(a){y(a,b)},!0;case p:return e.handler=function(a){z(a,b)},!0}return!1}var g=this.vs=this.vs||{},C=g.util=g.util||{},q=!1,k=window.navigator.msPointerEnabled;if("undefined"!=typeof document&&"createTouch"in document)q=!0;else if(k)q=!0;else if("undefined"!=typeof document&&window.navigator&&window.navigator.userAgent&&
(-1!==window.navigator.userAgent.indexOf("Android")||-1!==window.navigator.userAgent.indexOf("BlackBerry")))q=!0;var m,n,o,p;q?(m=k?"MSPointerDown":"touchstart",n=k?"MSPointerMove":"touchmove",o=k?"MSPointerUp":"touchend",p=k?"MSPointerCancel":"touchcancel"):(m="mousedown",n="mousemove",o="mouseup",p=null);var D=31337;i.prototype.configureWithEvent=function(a,d,b){this.pageX=a.pageX;this.pageY=a.pageY;"undefiend"!==typeof d&&(this.clientX=d);"undefiend"!==typeof b&&(this.clientY=b);this.target=a.target;
this.currentTarget=a.currentTarget};var l={TOUCH:2,PEN:3,MOUSE:4},s=[],h={},j={},u=0,v=function(a){if(a=h[a.pointerId])j[a.identifier]=a,delete h[a.identifier];u--;0===u&&(document.removeEventListener("MSPointerUp",v),document.removeEventListener("MSPointerCancel",v))},w,x,y,z;q?k?(w=L,x=M,y=N,z=O):(w=H,x=I,y=J,z=K):(w=E,x=F,z=y=G);g.createCustomEvent=function(a,d,b){var e=document.createEvent("Event");e.initEvent(a,!0,!0);for(var c in b)e[c]=b[c];d.dispatchEvent(e)};g.removePointerListener=function(a,
d,b,e){if(d)if(b){var c=B(a,d,b);if(-1===c)console.error("removePointerListener no binding");else{var f=b.__event_listeners[c];b.__event_listeners.remove(c);a:{switch(d){case m:case n:case o:case p:b=!0;break a}b=!1}b||manageGestureListenerRemove(a,d,f);a.removeEventListener(d,f.handler,e);delete f}}else console.error("removePointerListener no listener")};g.addPointerListener=function(a,d,b,e){if(d)if(b){var c=b;C.isFunction(b)||(c=b.handleEvent,C.isFunction(c)&&(c=c.bind(b)));if(-1!==B(a,d,b))console.error("addPointerListener binding already existing");
else{b.__event_listeners||(b.__event_listeners=[]);var f={target:a,type:d,listener:b};b.__event_listeners.push(f);!P(a,d,c,f)&&!manageGestureListenerAdd(a,d,c,f)&&(f.handler=c);a.addEventListener(d,f.handler,e)}}else console.error("addPointerListener no listener")};g.PointerTypes=l;g.POINTER_START=m;g.POINTER_MOVE=n;g.POINTER_END=o;g.POINTER_CANCEL=p}).call(this);
